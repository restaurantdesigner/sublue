<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://js.stripe.com/v3/"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Alquiler y venta de scooters submarinos Sublue en Espa√±a. Entrega r√°pida, asistencia personalizada y productos originales.">
  <link rel="icon" href="img/favi.png" type="image/png">
  <title>Scooters Sublue | Alquiler y Venta</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    const productImagesByColor = {
      black: [
        "img/products/Mixpro/black/black1.webp",
        "img/products/Mixpro/black/black2.webp",
        "img/products/Mixpro/black/black3.webp",
        "img/products/Mixpro/black/black4.webp",
        "img/products/Mixpro/black/black5.webp",
        "img/products/Mixpro/black/black6.webp",
        "img/products/Mixpro/black/black7.webp",
        "img/products/Mixpro/black/black8.webp",
        "img/products/Mixpro/black/black9.webp",
        "img/products/Mixpro/black/black10.webp",
        "img/products/Mixpro/black/black11.webp",
        "img/products/Mixpro/black/black12.webp",
        "img/products/Mixpro/black/black13.webp",
        "img/products/Mixpro/black/black14.webp",
        "img/products/Mixpro/black/black15.webp",
        "img/products/Mixpro/black/black16.webp",
        "img/products/Mixpro/black/black17.webp",
        "img/products/Mixpro/black/black18.webp"
      ],
      white: [
        "img/products/Mixpro/white/white1.webp",
        "img/products/Mixpro/white/white2.webp",
        "img/products/Mixpro/white/white3.webp",
        "img/products/Mixpro/white/white4.webp",
        "img/products/Mixpro/white/white5.webp",
        "img/products/Mixpro/white/white6.webp",
        "img/products/Mixpro/white/white7.webp",
        "img/products/Mixpro/white/white8.webp",
        "img/products/Mixpro/white/white9.webp",
        "img/products/Mixpro/white/white10.webp",
        "img/products/Mixpro/white/white11.webp",
        "img/products/Mixpro/white/white12.webp",
        "img/products/Mixpro/white/white13.webp",
        "img/products/Mixpro/white/white14.webp",
        "img/products/Mixpro/white/white15.webp",
        "img/products/Mixpro/white/white16.webp",
        "img/products/Mixpro/white/white17.webp",
        "img/products/Mixpro/white/white18.webp",
        "img/products/Mixpro/white/white19.webp",
        "img/products/Mixpro/white/white20.webp",
        "img/products/Mixpro/white/white21.webp",
        "img/products/Mixpro/white/white22.webp",
        "img/products/Mixpro/white/white23.webp",
        "img/products/Mixpro/white/white24.webp",
        "img/products/Mixpro/white/white25.webp"
      ]
    };

    

    function handleTouchStart(e) {
      startX = e.touches[0].clientX;
    }

    function handleTouchEnd(e) {
      const endX = e.changedTouches[0].clientX;
      const diff = endX - startX;

      const images = productImagesByColor[currentColor];
      if (Math.abs(diff) > 50) {
        if (diff < 0 && currentIndex < images.length - 1) {
          currentIndex++;
        } else if (diff > 0 && currentIndex > 0) {
          currentIndex--;
        }
        document.getElementById("mainImage").src = images[currentIndex];
      }
    }

   let selectedColor = 'MixPro Black';
let currentColor = 'black';
let currentIndex = 0;
let startX = 0;

function setColor(color) {
  currentColor = color;
  currentIndex = 0;
  const images = productImagesByColor[color];
  const mainImage = document.getElementById("mainImage");
  const thumbnails = document.getElementById("thumbnailContainer");

  selectedColor = color === 'black' ? 'MixPro Black' : 'MixPro White';
  document.getElementById("colorName").textContent = selectedColor;

  mainImage.src = images[0];
  thumbnails.innerHTML = "";
  images.forEach((img, index) => {
    const thumb = document.createElement("img");
    thumb.src = img;
    thumb.className = "w-14 h-14 object-cover border rounded cursor-pointer hover:ring-2 hover:ring-blue-500";
    thumb.onmouseenter = () => {
      mainImage.src = img;
      currentIndex = index;
    };
    thumbnails.appendChild(thumb);
  });

  document.getElementById("colorBlack").classList.remove("ring-2", "ring-blue-500");
  document.getElementById("colorWhite").classList.remove("ring-2", "ring-blue-500");

  if (color === "black") {
    document.getElementById("colorBlack").classList.add("ring-2", "ring-blue-500");
  } else {
    document.getElementById("colorWhite").classList.add("ring-2", "ring-blue-500");
  }
    // ‚úÖ –î–û–ë–ê–í–¨ –≠–¢–£ –°–¢–†–û–ö–£:
  updateStockInfo();

}

function updateStockInfo() {
  const productId = "mixpro_" + currentColor;
  const stock = stockData[productId] || 0;

  const stockText = document.querySelector(".stock-info");
  if (stockText) {
    stockText.textContent = `En stock: ${stock} unidades`;
  }

  // üîí –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–≤–æ–¥–∞ –≤ input
  const input = document.getElementById("quantityInput");
  if (input) {
    input.max = stock;
    if (parseInt(input.value) > stock) {
      input.value = stock;
    }
  }
}

// üîÅ –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å–æ —Å–∫–ª–∞–¥–∞ –∏–∑ Google –¢–∞–±–ª–∏—Ü—ã –±–µ–∑ –∫—ç—à–∞
async function loadStock() {
  const response = await fetch(
    "https://docs.google.com/spreadsheets/d/e/2PACX-1vT3_8DRtvqhfTcNQq5cgiAAZSf7lKv7N2Q-B4XbAJwe_hRz4W8CET4LPn16Qo4oZ1M_RF_XfW3JmTl-/pub?gid=0&single=true&output=csv&t=" + Date.now(),
    {
      cache: 'no-store',
      headers: {
        'Cache-Control': 'no-cache',
        'Pragma': 'no-cache'
      }
    }
  );

  const csvText = await response.text();
  const lines = csvText.split('\n').slice(1); // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫

  lines.forEach(line => {
    const cells = line.split(',');
    const id = cells[0]?.trim();
    const stock = parseInt(cells[4]?.trim()); // –ö–æ–ª–æ–Ω–∫–∞ Stock = index 4

    if (id && !isNaN(stock)) {
      stockData[id] = stock;
    }
  });

  updateStockInfo?.();         // –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
  validateCartAgainstStock?.(); // –µ—Å–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ—Ä–∑–∏–Ω—ã
}






 

    window.onload = async () => {
  await loadStock();                         // üü¢ –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–∞–±–ª–∏—Ü—É
  setColor('black');                         // üü¢ –°—Ç–∞–≤–∏–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
  updateCartCount();                         // üü¢ –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–æ—Ä–∑–∏–Ω–µ
  updateStockInfo();                         // üü¢ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ
  document.querySelector('.delivery-date').textContent = getDeliveryDate();

  const img = document.getElementById("mainImage");
  img.addEventListener("touchstart", handleTouchStart, false);
  img.addEventListener("touchend", handleTouchEnd, false);
};


  </script>





<style>
@media (min-width: 1024px) {
  .site-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 60px;
    padding: 0 60px;
    background: rgba(0, 0, 0, 0.3); /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    z-index: 1000;
  }

  .site-header .logo {
    width: 140px;
    max-width: 100%;
  }

  .site-header nav {
    display: flex;
    gap: 40px;
  }

  .site-header nav a {
    font-family: 'Inter', sans-serif;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    color: white;
    opacity: 0.7;
    text-decoration: none;
    transition: opacity 0.3s;
  }

  .site-header nav a:hover {
    opacity: 1;
  }
}

.site-header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px;
  background: rgba(0, 0, 0, 0.8); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç—ë–º–Ω—ã–π */
  backdrop-filter: blur(10px);    /* –ë–ª—é—Ä –∑–∞–¥–Ω–µ–≥–æ —Ñ–æ–Ω–∞ */
  -webkit-backdrop-filter: blur(10px); /* –î–ª—è Safari */
  border-bottom: 1px solid rgba(255, 255, 255, 0.3); /* –ë–µ–ª–∞—è –ª–∏–Ω–∏—è —Å–Ω–∏–∑—É */
  z-index: 1000; /* –ü–æ–≤–µ—Ä—Ö –≤–∏–¥–µ–æ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
}








</style>












</head>

<body class="bg-white text-gray-800">
<header class="site-header px-4 py-2 flex justify-between items-center bg-gray-900 bg-opacity-90">

  <!-- –õ–û–ì–û –°–õ–ï–í–ê -->
  <div class="flex items-center">
    <a href="index.html">
      <img src="img/sublue.png" alt="SUBI Logo" class="logo w-28 md:w-32 lg:w-36" />
    </a>
  </div>


  <!-- –ú–ï–ù–Æ –°–ü–†–ê–í–ê: —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ -->
  <nav class="hidden md:flex space-x-8 text-white font-semibold text-sm tracking-widest uppercase">
    <a href="index.html#catalog" class="hover:text-yellow-300 transition">Modelos</a>
    <a href="#alquiler" class="hover:text-yellow-300 transition">Alquiler</a>
    <a href="#contact" class="hover:text-yellow-300 transition">Contacto</a>
    <a href="#nosotros" class="hover:text-yellow-300 transition">Sobre nosotros</a>
    <a href="#faq" class="hover:text-yellow-300 transition">FAQ</a>
  </nav>
<!-- –ò–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
<a href="cart.html" class="relative">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 text-white hover:text-yellow-300 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.5 6h13l-1.5-6M9 21h0M15 21h0" />
  </svg>
  <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">0</span>
</a>

  
</header>
  <div class="max-w-7xl mx-auto px-4 py-6 pt-24">

    <div class="flex flex-col lg:flex-row gap-6">
      <div class="lg:w-1/2">
        <div class="flex flex-col lg:flex-row gap-3">
          <div id="thumbnailContainer" class="flex flex-row lg:flex-col gap-2 lg:mr-2 overflow-x-auto"></div>
          <div class="flex-1">
            <img id="mainImage" src="" alt="Main Product Image" class="w-full h-auto rounded shadow">
            <p class="text-center text-sm mt-2 text-blue-600 underline cursor-pointer">Click to see full view</p>
          </div>
        </div>
      </div>
      <div class="lg:w-1/2 pb-28 lg:pb-0">
        <h1 class="text-base sm:text-lg md:text-xl font-semibold mb-2 leading-snug">Mix Pro Dual Motor Underwater Scooter, 2 Speed Modes, 40 m Depth with Camera Mount and Low Battery Alarm for Pool</h1>
        <div class="flex items-center mt-1">
          <span class="text-yellow-500 text-base">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
          <span class="text-blue-600 ml-2 text-sm">23 ratings</span>
        </div>
        <div class="text-2xl sm:text-3xl font-bold mt-2">‚Ç¨999<sup class="text-base sm:text-lg">.00</sup></div>

        <div class="mt-4">
          <span class="font-semibold text-sm">Colour Name:</span>
          <span id="colorName" class="text-sm ml-1">MixPro Black</span>
        </div>
        <div class="flex gap-3 mt-2">
          <div id="colorBlack" onclick="setColor('black')" class="w-20 h-16 border rounded cursor-pointer ring-2 ring-blue-500">
            <img src="img/products/Mixpro/black/black1.webp" class="w-full h-full object-cover rounded" alt="Black">
            <p class="text-center text-xs font-semibold">Black</p>
          </div>
          <div id="colorWhite" onclick="setColor('white')" class="w-20 h-16 border rounded cursor-pointer">
            <img src="img/products/Mixpro/white/white1.webp" class="w-full h-full object-cover rounded" alt="White">
            <p class="text-center text-xs font-semibold">White</p>
          </div>
          <!-- –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ -->
<div class="mt-4">
  <label for="quantityInput" class="font-semibold text-sm block mb-1">Cantidad:</label>
  <input type="number" id="quantityInput" value="1" min="1" class="border rounded px-2 py-1 w-24" />
</div>



        </div>
        <p id="deliveryEstimate" class="text-green-600 font-semibold mt-4">
  Entrega estimada: <span class="delivery-date">...</span>
</p>
<p id="stockInfo" class="text-sm mt-2 text-gray-700 font-semibold"></p>


        <h2 class="text-2xl font-bold mb-4">Funciones y caracter√≠sticas del producto</h2>
  <ul class="list-disc list-inside space-y-3 text-base leading-relaxed text-gray-800">
    <li><strong>Potentes Motores Duales</strong> ‚Äì Dos modos de velocidad [1.8 m/s (4.0 mph) y 1.2 m/s (2.7 mph)] que se pueden cambiar f√°cilmente para adaptarse a diferentes necesidades.</li>
    <li><strong>M√≥dulo Flotador Removible</strong> ‚Äì Proporciona flotabilidad positiva para aguas poco profundas; qu√≠talo para bucear en profundidad hasta 40 m (131.2 ft).</li>
    <li><strong>Sistema de Gesti√≥n de Bater√≠a BMS</strong> ‚Äì Con una capacidad de 11000 mAh, 60 minutos de tiempo de funcionamiento, carga r√°pida de 2 horas, cambio de bater√≠a en 10 s e indicadores multicolores para velocidad, vida de la bater√≠a y alertas de bater√≠a baja.</li>
    <li><strong>Dise√±o de H√©lice Desmontable</strong> ‚Äì Cuenta con una protecci√≥n para seguridad y f√°cil mantenimiento.</li>
    <li><strong>Construcci√≥n Premium y Dise√±o Seguro</strong> ‚Äì Materiales de alta gama con un acabado de calidad automotriz, con un mecanismo de bloqueo de seguridad para mayor protecci√≥n.</li>
    <li><strong>Soporte para Fotograf√≠a Submarina</strong> ‚Äì Compatible con c√°maras de acci√≥n, la funda impermeable para tel√©fono SUBLUE y equipo de iluminaci√≥n, permiti√©ndote capturar impresionantes momentos bajo el agua.</li>
    <li><strong>Ligero y Port√°til</strong> ‚Äì Pesa solo 3.55 kg (7.8 lb), cabe f√°cilmente en una mochila para llevar c√≥modamente y est√° aprobado para viajes en avi√≥n.</li>
  </ul>

        <button onclick="addToCart(event)" class="mt-4 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-3 px-4 w-full rounded shadow">
  Add to Cart
</button>


        <div class="mt-4 flex flex-col sm:flex-row gap-3">
          <button onclick="payWithStripe()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 w-full rounded shadow">
  Pay with Card
</button>

          <button class="bg-gray-800 hover:bg-black text-white font-semibold py-3 px-4 w-full rounded shadow">
            PayPal
          </button>
        </div>
        <!-- üì¶ Accesorios adicionales -->
<div id="accesoriosSection" class="mt-6 border-t pt-6 transition-all duration-500">
  <h2 class="text-lg font-semibold mb-4">Combina bien con:</h2>

  <div class="space-y-4">
    <!-- Accesorio 1 -->
    <label class="flex items-center space-x-4">
      <input type="checkbox" class="form-checkbox accent-blue-600"
        onchange="toggleAccessory(this, 21900, 'Bater√≠a Mix / MixPro', 'img/products/accessories/battery.webp')" />
      <img src="img/products/accessories/battery.webp" alt="Bater√≠a" class="w-14 h-14 rounded object-cover" />
      <div>
        <p class="font-semibold text-sm">Bater√≠a Mix / MixPro</p>
        <p class="text-gray-700 text-sm">‚Ç¨219,00</p>
      </div>
    </label>

    <!-- Accesorio 2 -->
    <label class="flex items-center space-x-4">
      <input type="checkbox" class="form-checkbox accent-blue-600"
        onchange="toggleAccessory(this, 9900, 'Mochila Impermeable 30L', 'img/products/accessories/backpack.webp')" />
      <img src="img/products/accessories/backpack.webp" alt="Mochila" class="w-14 h-14 rounded object-cover" />
      <div>
        <p class="font-semibold text-sm">Mochila Impermeable 30L</p>
        <p class="text-gray-700 text-sm">‚Ç¨99,00</p>
      </div>
    </label>

    <!-- Accesorio 3 -->
    <label class="flex items-center space-x-4">
      <input type="checkbox" class="form-checkbox accent-blue-600"
        onchange="toggleAccessory(this, 13900, 'Funda impermeable H1+', 'img/products/accessories/case.webp')" />
      <img src="img/products/accessories/case.webp" alt="Funda" class="w-14 h-14 rounded object-cover" />
      <div>
        <p class="font-semibold text-sm">Funda impermeable H1+</p>
        <p class="text-red-500 text-sm">‚Ç¨139,00 <span class="line-through text-gray-500 text-xs">‚Ç¨179,00</span></p>
      </div>
    </label>
  </div>

  <!-- Total -->
  <div class="mt-4 text-right">
    <p class="font-semibold text-base">Total adicional: <span id="accesoriosTotal">‚Ç¨0,00</span></p>
  </div>
  
</div>

      </div>
      
    </div>
  </div>
  



  <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
  <div class="bg-white p-6 rounded-lg shadow max-w-sm w-full">
    <h2 class="text-lg font-semibold mb-4">Enter your email to pay</h2>
    <input id="emailInput" type="email" placeholder="you@example.com" class="w-full border p-2 rounded mb-4" />
    <button onclick="submitPayment()" class="bg-blue-600 text-white w-full py-2 rounded hover:bg-blue-700">Pay ‚Ç¨999.00</button>
    <button onclick="closePaymentModal()" class="mt-3 text-sm text-gray-500 underline">Cancel</button>
  </div>
</div>

<!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
<div id="toast" class="fixed bottom-5 right-5 bg-green-600 text-white text-sm px-4 py-2 rounded shadow-lg hidden z-50">
  A√±adido al carrito
</div>
<div class="video-container mt-4">
  <iframe
    width="560" height="315"
    src="https://www.youtube.com/embed/xnssTxZEt9A"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
  ></iframe>
</div>
<style>
  .video-container {
    position: relative;
    padding-bottom: 56.25%; /* –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω 16:9 */
    height: 0;
    overflow: hidden;
    max-width: 100%;
  }
  .video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
</style>

<footer class="bg-gray-900 text-white px-6 pt-0 pb-10 z-10 overflow-hidden">

  

  <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ñ—É—Ç–µ—Ä–∞ -->
  <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 mt-10">
    
    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
<div id="contact" class="space-y-2">
  <h2 class="text-xl font-semibold">Contacto</h2>
  <p class="text-sm">Av. de Andaluc√≠a, 3, 29751 Algarrobo-Costa, M√°laga</p>
  <p class="text-sm">
    Tel: <a href="tel:+34692828614" class="hover:underline">+34 692 828 614</a>, 
    <a href="tel:+34614140871" class="hover:underline">+34 614 140 871</a>
  </p>
  <p class="text-sm">Email: <a href="mailto:subluespana@gmail.com" class="hover:underline">subluespana@gmail.com</a></p>
</div>


    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div class="space-y-2">
      <h2 class="text-xl font-semibold">Informaci√≥n</h2>
      <div class="text-sm text-white">
  <a href="#" onclick="document.getElementById('modalCondicionesAlquiler').classList.remove('hidden')">Condiciones de alquiler</a>
  <a href="#" onclick="document.getElementById('modalCondicionesVenta').classList.remove('hidden')" class="ml-4">Condiciones de venta</a>
  <a href="#" onclick="document.getElementById('modalCondicionesEntrega').classList.remove('hidden')" class="ml-4">Condiciones de entrega</a>
</div>

    </div>
  </div>

  <!-- –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å -->
  <div class="max-w-7xl mx-auto mt-10 border-t border-gray-700 pt-6 flex flex-col items-center space-y-4 text-sm text-gray-400">
    
    <p>
      Hecho por 
      <a href="https://3dna.es" class="underline hover:text-white transition" target="_blank">3DNA.es</a> ‚Äì Agencia Creativa
    </p>

    <!-- –ò–∫–æ–Ω–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π -->
    <div class="flex gap-6">
      <!-- Facebook -->
      <a href="https://www.facebook.com/sublue_spain" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="Facebook">
        <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
          <path d="M22 12a10 10 0 10-11.5 9.9v-7H8v-3h2.5V9.2c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.4h-1.3c-1.3 0-1.7.8-1.7 1.6v1.9h3l-.5 3h-2.5v7A10 10 0 0022 12z"/>
        </svg>
      </a>

      <!-- Instagram -->
      <a href="https://www.instagram.com/sublue_spain" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="Instagram">
        <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24">
          <path d="M7 2C4.8 2 3 3.8 3 6v12c0 2.2 1.8 4 4 4h10c2.2 0 4-1.8 4-4V6c0-2.2-1.8-4-4-4H7zm10 2c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm4.8-.8a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0z"/>
        </svg>
      </a>

      <!-- WhatsApp -->
      <a href="https://wa.me/34692828614" target="_blank" class="text-gray-400 hover:text-white transition" aria-label="WhatsApp">
        <svg class="w-6 h-6 fill-current" viewBox="0 0 32 32">
          <path d="M16 2.7A13.3 13.3 0 002.7 16c0 2.3.6 4.4 1.7 6.3L2 30l7.9-2.4a13.2 13.2 0 006.1 1.5A13.3 13.3 0 0016 2.7zm0 24.3c-1.9 0-3.8-.5-5.4-1.4l-.4-.2-4.7 1.4 1.5-4.6-.3-.4a11 11 0 1119.2-6.1 11 11 0 01-9.9 11.3zm6-8.3c-.3-.1-1.7-.9-2-1-.3-.1-.5-.2-.7.2s-.8 1-1 1.2c-.2.1-.4.1-.7 0-.3-.1-1.3-.5-2.5-1.6a9.3 9.3 0 01-1.7-2.2c-.2-.3 0-.5.1-.7l.4-.6c.1-.2.2-.4.3-.6.1-.2 0-.5 0-.7 0-.2-.7-1.8-1-2.5-.2-.5-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.3a3 3 0 00-1 2.2 5.2 5.2 0 001.1 2.6 11 11 0 004.7 4.1c1.8.7 2.2.6 2.6.5.4-.1 1.3-.6 1.5-1.1.2-.5.2-1 .1-1.2z"/>
        </svg>
      </a>
    </div>

    <!-- –õ–æ–≥–æ—Ç–∏–ø -->
    <!-- –õ–æ–≥–æ—Ç–∏–ø -->
    <img src="img/lg.png" alt="3DNA Logo" class="h-6 grayscale hover:grayscale-0 transition" />
  </div>

</footer>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: Condiciones de alquiler -->
<div id="modalCondicionesAlquiler" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden">
  <div class="bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-xl shadow-lg p-6 relative">
    
    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è -->
    <button onclick="document.getElementById('modalCondicionesAlquiler').classList.add('hidden')" 
            class="absolute top-4 right-4 text-gray-500 hover:text-black text-2xl">&times;</button>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <h2 class="text-2xl font-bold mb-4">Condiciones Generales de Alquiler de Equipos Recreativos</h2>
    <p class="mb-4">Torre del Mar, provincia de M√°laga</p>

    <!-- –°–µ–∫—Ü–∏–∏ -->
    <h3 class="font-semibold mt-6 mb-2">1. Objeto del Alquiler</h3>
    <p>El arrendador pone a disposici√≥n del arrendatario uno o varios equipos recreativos para su uso temporal, incluyendo, pero no limit√°ndose a: dispositivos subacu√°ticos, c√°maras deportivas, gafas de realidad virtual, y otros accesorios. Todos los equipos se entregan con sus componentes correspondientes y en condiciones √≥ptimas de funcionamiento.</p>

    <h3 class="font-semibold mt-6 mb-2">2. Duraci√≥n del Alquiler</h3>
    <p>El periodo de alquiler comienza y finaliza en las fechas y horas acordadas entre las partes. El arrendatario se compromete a devolver el equipo en la fecha y hora pactadas. Cualquier retraso en la devoluci√≥n podr√° generar una penalizaci√≥n proporcional al tiempo excedido.</p>

    <h3 class="font-semibold mt-6 mb-2">3. Condiciones de Entrega y Devoluci√≥n</h3>
    <ul class="list-disc ml-6">
      <li>Entrega y recogida en lugar acordado</li>
      <li>Verificaci√≥n del documento de identidad</li>
      <li>Registro visual del equipo</li>
      <li>Explicaci√≥n de uso y normas</li>
    </ul>
    <p>A la devoluci√≥n, el equipo ser√° inspeccionado visualmente. Cualquier da√±o ser√° documentado y firmado por ambas partes.</p>

    <h3 class="font-semibold mt-6 mb-2">4. Responsabilidad del Arrendatario</h3>
    <ul class="list-disc ml-6">
      <li>Uso correcto y conforme a instrucciones</li>
      <li>Prohibida la cesi√≥n a terceros</li>
      <li>No modificar ni manipular el equipo</li>
      <li>Mantener el equipo en lugar seguro</li>
    </ul>

    <h3 class="font-semibold mt-6 mb-2">5. Condiciones de Uso</h3>
    <ul class="list-disc ml-6">
      <li>Uso en zonas seguras autorizadas</li>
      <li>Prohibido bajo efectos de alcohol o drogas</li>
      <li>S√≥lo mayores de edad (18+)</li>
      <li>Uso obligatorio de protecci√≥n si aplica</li>
      <li>Prohibido en condiciones peligrosas</li>
    </ul>

    <h3 class="font-semibold mt-6 mb-2">6. Dep√≥sito de Garant√≠a</h3>
    <p>Se solicitar√° un dep√≥sito reembolsable al momento del alquiler. Se devolver√° si no hay da√±os ni incumplimientos.</p>

    <h3 class="font-semibold mt-6 mb-2">7. Identificaci√≥n y Registro</h3>
    <p>El arrendador podr√° registrar visualmente al arrendatario y al equipo para garantizar la trazabilidad.</p>

    <h3 class="font-semibold mt-6 mb-2">8. Protecci√≥n de Datos</h3>
    <p>Los datos ser√°n tratados con confidencialidad y s√≥lo para fines administrativos del contrato.</p>

    <h3 class="font-semibold mt-6 mb-2">9. Resoluci√≥n de Conflictos</h3>
    <p>Las partes intentar√°n resolver conflictos de forma amistosa. Si no es posible, se acudir√° a los tribunales de V√©lez-M√°laga.</p>

    <h3 class="font-semibold mt-6 mb-2">10. Declaraci√≥n Final</h3>
    <p>El arrendatario declara que ha le√≠do, entendido y aceptado todas las condiciones descritas.</p>

    <div class="mt-8">
      <p class="font-semibold">FIRMAS</p>
      <p>Arrendador: Firma: ____________________  Fecha: ______________</p>
      <p>Arrendatario: Firma: ____________________  Fecha: ______________</p>
    </div>
  </div>
</div>



<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: Condiciones de venta -->
<div id="modalVenta" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg shadow-xl max-w-lg w-full p-6 relative">
    <button onclick="document.getElementById('modalVenta').classList.add('hidden')" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black text-2xl">&times;</button>
    <h2 class="text-xl font-semibold mb-4">Condiciones de venta</h2>
    <p class="text-gray-700 text-sm">
      Aqu√≠ puedes a√±adir tus condiciones de venta detalladas...
    </p>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: Condiciones de entrega -->
<div id="modalEntrega" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg shadow-xl max-w-lg w-full p-6 relative">
    <button onclick="document.getElementById('modalEntrega').classList.add('hidden')" 
            class="absolute top-2 right-2 text-gray-500 hover:text-black text-2xl">&times;</button>
    <h2 class="text-xl font-semibold mb-4">Condiciones de entrega</h2>
    <p class="text-gray-700 text-sm">
      Aqu√≠ puedes a√±adir tus condiciones de entrega detalladas...
    </p>
  </div>
</div>

  <script>
let stockData = {};
let accesoriosSeleccionados = [];




// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—Å—Ç–∞—Ç–∫–æ–≤
function addToCart(event) {
  event.stopPropagation();

  const quantity = parseInt(document.getElementById("quantityInput").value) || 1;
  const mainImage = document.getElementById("mainImage").src;

  const mainItem = {
    id: "mixpro_" + currentColor,
    name: "Sublue Mix Pro",
    color: selectedColor,
    price: 999.00,
    qty: quantity,
    image: mainImage,
    delivery: getDeliveryDate()
  };

  

 let cart = JSON.parse(localStorage.getItem("cart")) || [];
const existing = cart.find(p =>
  p.id === mainItem.id &&
  p.color === mainItem.color &&
  p.image === mainItem.image
);

const alreadyInCart = existing ? existing.qty : 0;
const totalRequested = alreadyInCart + quantity;
const availableStock = stockData[mainItem.id] || 0;

if (totalRequested > availableStock) {
  alert(`Lo sentimos, solo quedan ${availableStock} unidades disponibles en stock. Ya tienes ${alreadyInCart} en el carrito.`);
  return;
}

if (existing) {
  existing.qty += quantity;
} else {
  cart.push(mainItem);
}

accesoriosSeleccionados.forEach(accessory => {
  const found = cart.find(p => p.id === accessory.id);
  if (!found) {
    cart.push({ ...accessory });
  }
});

localStorage.setItem("cart", JSON.stringify(cart));
updateCartCount();
showToast("A√±adido al carrito");


  accesoriosSeleccionados.forEach(accessory => {
    const found = cart.find(p => p.id === accessory.id);
    if (!found) {
      cart.push({ ...accessory });
    }
  });

  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCount();
  showToast("A√±adido al carrito");
}

// –û–ø–ª–∞—Ç–∞
async function payWithStripe() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];

  if (cart.length === 0) {
    alert("¬°Tu carrito est√° vac√≠o!");
    return;
  }

  const items = cart.map(item => ({
  id: item.id, // üî• –î–æ–±–∞–≤–ª–µ–Ω–æ!
  name: item.name + (item.color ? ` - ${item.color}` : ""),
  description: item.description || "Producto Sublue",
  price: Number(item.price),
  quantity: item.qty || 1,
  image: item.image
}));


  try {
    const response = await fetch("https://sublue-backend.onrender.com/create-checkout-session", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ items })
    });

    const data = await response.json();
    if (data.url) {
      window.location.href = data.url;
    } else {
      alert("Error: " + data.error);
    }
  } catch (error) {
    alert("Error al crear la sesi√≥n de pago: " + error.message);
  }
}

// –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã
function toggleAccessory(checkbox, price, name, image) {
  const item = {
    id: 'acc_' + name.toLowerCase().replace(/\s+/g, '_'),
    name,
    description: 'Accesorio adicional',
    price,
    quantity: 1,
    image
  };

  if (checkbox.checked) {
    accesoriosSeleccionados.push(item);
  } else {
    accesoriosSeleccionados = accesoriosSeleccionados.filter(i => i.id !== item.id);
  }

  updateAccessoryTotal();
}

function updateAccessoryTotal() {
  const total = accesoriosSeleccionados.reduce((sum, item) => sum + item.price * item.quantity, 0);
  const totalText = (total / 100).toFixed(2).replace('.', ',');
  document.getElementById('accesoriosTotal').textContent = `‚Ç¨${totalText}`;
}

// –î–æ—Å—Ç–∞–≤–∫–∞
function getDeliveryDate() {
  const now = new Date();
  now.setDate(now.getDate() + 3);
  return now.toLocaleDateString("es-ES", { day: 'numeric', month: 'short' });
}



// –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
function showToast(message) {
  const toast = document.getElementById("toast");
  toast.textContent = message;
  toast.classList.remove("hidden");
  setTimeout(() => toast.classList.add("hidden"), 3000);
}



function updateStockInfo() {
  const currentId = "mixpro_" + currentColor;
  const stock = stockData[currentId] ?? 0;
  const stockText = stock > 0 
    ? `En stock: ${stock} unidad${stock === 1 ? '' : 'es'}`
    : "‚ùå No disponible";

  const stockEl = document.getElementById("stockInfo");
  if (stockEl) stockEl.textContent = stockText;

  const addToCartBtn = document.querySelector("button[onclick='addToCart(event)']");
  if (addToCartBtn) {
    addToCartBtn.disabled = stock === 0;
    addToCartBtn.classList.toggle("opacity-50", stock === 0);
    addToCartBtn.classList.toggle("cursor-not-allowed", stock === 0);
  }
}

function validateCartAgainstStock() {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  let updated = false;

  cart = cart.map(item => {
    const available = stockData[item.id] ?? Infinity;
    if (item.qty > available) {
      item.qty = available;
      updated = true;
    }
    return item;
  });

  if (updated) {
    showToast("Stock actualizado en el carrito");
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount?.();
  }
}


</script>
<script>
 function updateCartCount() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const totalQty = cart.reduce((sum, item) => sum + (parseInt(item.qty) || 0), 0);
  const countEl = document.getElementById("cartCount");
  if (countEl) {
    countEl.textContent = totalQty;
  }
}


  // üü¢ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫
  window.addEventListener("DOMContentLoaded", updateCartCount);
</script>





</body>
</html>
